---
layout: post
title:  "FinerePort8.0新手"
date:   2018-08-02 18:49:45 +0200
categories: hpxuan
---


##### row()，显示当前行数
---

### 参数

#### 模板参数和全局参数  
> 模板参数是适用于这个模板  
>> 单元格写过滤信息是一定要改成参数

#### 全局参数  
> 当前工程下创建的参数，在服务器>全局参数中定义，定义方法与模板参数相同，在工程下的所有报表中都可以使用，必须与过滤结合筛选数据  
>> *注：定义的全局参数都保存在%FR_HOME%\WebReport\WEB-INF\resources\config.xml文件中，若全局参数与模板参数相同，则采用模板参数*  
>> *另：按照使用范围划分的参数都必须与过滤条件结合使用。*

---

### 模糊查询  
>> **2.1 "%"：表示任意0个或多个字符**  
>>> Select * from 表名 where 列名 like '%'; //查询出全部  
>>> Select * from 表名 where 列名 like '%x%'; //中间为x，左右都可以有任意位字符

>> **2.2 "_"：表示单个字符**
>>> Select * from 表名 where 列名 like '_x'; //右为x，前面有一位字符  
>>> Select * from 表名 where 列名 like '__x'; //右为x，前面有两位位字符
>>> *注：ACCESS的模糊查询比较特殊是'?','*' 。 如  Select * from 表名 where 列名 like '*b*'*

>> SELECT * FROM 订单 where 1=1  
>> ${if(len(area) == 0,"","and 货主地区 = '" + area + "'")}  
>> ${if(len(province) == 0,"","and 货主省份 = '" + province + "'")}  
>>> *注：where 1=1表示条件永真，防止没有之后的参数条件时，where多出而导致出错*  
>>> *len(area)==0表示参数area为空；"and 货主地区='"+area+"'"  中间的area表示取参数值，'+' 为字符串拼接符号*  
>>> *${if(len(area) == 0,"","and 货主地区 = '" + area + "'")} 表示若参数area为空就不进行过滤，若不为空则货主地区等于参数值*

---

#### 操作符注意的地方  
>> **&	取单元格所在行列**	单元格 &A1  
>> **!	取非，即取条件的反面**	条件!A，如果A是true，!A是false  
>> **.	引用对象或方法	对象或方法** ds1.select(#1)  
>> **#	列序号 列***	ds1.select(#1)  
>> **${}	宏定义 参数***	如在sql中 select * from table ${"where 1=2"}，会先计算出${}里面的值，然后拼接出完整的sql语句  
>> **Cell[]	层次坐标操作符**	单元格 A2[A1:-1]  
>> **$$$	表示当前单元格的值即当前值**	有数据的单元格 if($$$=0,"",$$$) 表示如当前值为0则显示空，否则为当前值   
>> **\\	引用**	“\”，值即为\ 单元格 如\"表示引用"号

---

### 参数之系统参数 #####（详细应用自己查）  
>> ***$$totalPage_number*** **,	是指报表的总页数**  
>> ***$$page_number*** **,	是指报表当前访问的页码**  
>> ***$$username*** **,	是在使用权限时保存用户名的参数**  
>> ***$$fr_authority*** **,	是在使用权限时保存角色的参数**  
>> ***NOFILTER*** **,	专门用来比较的变量，且只可用来比较**  
>>> **	任何值与NOFILTER比较均返回True，这里的比较包括** 
>>> **“等于，大于，小于，大于等于，小于等于”等等，也不区分大小写**

---

>##### 下列用法一直为${servletURL}(servletURL是你用的参数)  
>> ***servletURL*** **,	是指servlet的url**

>> ***serverSchema*** **,	是指协议名称**

>> ***serverName*** **,	是指服务器地址或名称**

>> ***serverPort*** **,	是指的是访问的端口**

>> ***serverURL*** **,	是指访问服务的URL**

>> ***contextPath*** **,	是指绝对路径的服务器别名，即虚拟目录**

>> ***SessionID*** **,	属性是返回用户会话的标识**  
>>> **在创建会话时，服务器会为每一个会话生成一个单独的标识，会话标识以长整形数据类型返回**  
>>> **SessionID等于本次会话ID的记录，SessionID 多数情况是用于WEB页面的统计**  
